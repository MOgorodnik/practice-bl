<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Decision: Task 6</title>
</head>
<body>
    <a href="index.html">Back</a><br>
    <h2>Task 6</h2>
    <pre>
        const par = document.getElementById('par')

        par.addEventListener('mousemove', function (e) {
            !!! Wrong
            const items = ev.currentTarget.querySelectorAll('[data-hint]')
            console.log(items);
        
            items.forEach(el => {
                el.insertAdjacentHTML(
                    'afterbegin',
                    `<span class="ttip">${el.dataset.hint}</span>`
                    )
            });
            
            !!! Correct
            if (e.target.matches('[data-hint]')) {
                if (e.target.querySelector('.ttip')) return;
        
                const hint = document.createElement('span')
                
                hint.textContent = e.target.dataset.hint
                hint.className = 'ttip'
                e.target.append(hint)
        
                e.target.addEventListener('mouseleave', function scope() {
                    // e.target.removeChild(hint);
                    e.target.querySelector('.ttip').remove()
                    e.target.removeEventListener('mouseleave', scope)
                }, {once: true})
            }
        })
    </pre>
</body>
</html>